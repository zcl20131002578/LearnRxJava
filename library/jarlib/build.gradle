apply plugin: 'java-library'
apply plugin: 'maven'
apply plugin: 'maven-publish'

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
}

sourceCompatibility = "7"
targetCompatibility = "7"

def customPublishFile = new File("$rootProject.projectDir/library/jarlib/uploadFile.txt")

task customPublishJar(type: Jar) {

}

artifacts {
    archives customPublishJar
    archives customPublishFile, {

    }
}


group 'org.zcl.library.jar'
version '1.0.0-SNAPSHOT'

uploadArchives {
    repositories {
        println("jarlib uploadArchives")
        flatDir {
            name 'libs'
            dirs "$rootProject.rootDir/libs"
        }

        mavenLocal()

        mavenDeployer {
            repository(url: mavenReleaseUrl) {
                authentication(userName: mavenUserName, password: mavenUserPassword)
            }
            snapshotRepository(url: mavenSnapShotUrl) {
                authentication(userName: mavenUserName, password: mavenUserPassword)
            }
            pom.artifactId = jarArtiId
        }
    }
}

publishing {

}
